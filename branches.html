<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„ÙØ±ÙˆØ¹ | Olayan Services</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="style-admin.css?v=8">
    <link rel="icon" type="image/svg+xml" href="olayan-mark.svg">
    
    <style>
        /* Local overrides for public page compatibility */
        .branches-container {
            padding: 0;
        }
        .opening-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            overflow: hidden;
            transition: var(--transition);
        }
        .opening-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
            box-shadow: var(--shadow-glow);
        }
        .opening-location {
            color: #fff;
            font-size: 1.2rem;
            font-weight: 700;
            margin: 10px 0;
        }
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #fff;
            border-right: 4px solid var(--primary-color);
            padding-right: 15px;
        }
        .openings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .brand-logo-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .brand-logo-img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }
        .opening-content { padding: 20px; }
        .opening-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .status-opening-soon { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .status-now-open { background: rgba(16, 185, 129, 0.2); color: #10b981; }
    </style>
</head>
<body class="ar">

    <!-- Sidebar -->
    <aside class="admin-sidebar">
        <div class="sidebar-header">
            <img src="olayan-logo.png" class="sidebar-logo" alt="Logo">
            <span class="sidebar-brand">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</span>
        </div>
        <nav class="sidebar-nav">
            <!-- Group 1: Leadership -->
            <div class="nav-group" id="group-leadership">
                <div class="nav-group-header" onclick="toggleSidebarGroup('group-leadership')">
                    <span>ğŸ“Š Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„</span>
                    <i class="arrow-icon">â–¶</i>
                </div>
                <div class="nav-group-content" style="display:none;">
                    <a href="admin.html" class="nav-item" id="nav-dashboard">
                        <i>ğŸ </i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    </a>
                    <a href="admin.html" class="nav-item" id="nav-analytics">
                        <i>ğŸ§ </i> Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ (AI)
                    </a>
                    <a href="admin.html" class="nav-item" id="nav-tasks">
                        <i>âœ…</i> Ø§Ù„Ù…Ù‡Ø§Ù…
                    </a>
                </div>
            </div>

            <!-- Group 2: Data Management -->
            <div class="nav-group active" id="group-data">
                <div class="nav-group-header" onclick="toggleSidebarGroup('group-data')">
                    <span>ğŸ“‚ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
                    <i class="arrow-icon">â–¼</i>
                </div>
                <div class="nav-group-content">
                    <a href="admin.html" class="nav-item" id="nav-employees">
                        <i>ğŸ‘¥</i> Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†
                    </a>
                    <a href="violations.html" class="nav-item" id="nav-violations">
                        <i>âš ï¸</i> Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª
                    </a>
                    <a href="training.html" class="nav-item" id="nav-training">
                        <i>ğŸ“</i> Ø§Ù„ØªØ¯Ø±ÙŠØ¨
                    </a>
                    <a href="branches.html" class="nav-item active" id="nav-branches">
                        <i>ğŸ¬</i> Ø§Ù„ÙØ±ÙˆØ¹
                    </a>
                    <a href="licenses.html" class="nav-item" id="nav-licenses">
                        <i>ğŸ“œ</i> Ø§Ù„ØªØ±Ø§Ø®ÙŠØµ
                    </a>
                    <a href="admin.html" class="nav-item" id="nav-advanced-data">
                        <i>ğŸ’¾</i> Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
                    </a>
                </div>
            </div>

            <!-- Group 3: Users & Services -->
            <div class="nav-group" id="group-users">
                <div class="nav-group-header" onclick="toggleSidebarGroup('group-users')">
                    <span>ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ø´ÙƒØ§ÙˆÙ‰</span>
                    <i class="arrow-icon">â–¶</i>
                </div>
                <div class="nav-group-content" style="display:none;">
                    <a href="admin.html" class="nav-item" id="nav-users">
                        <i>ğŸ‘¤</i> Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡
                    </a>
                    <a href="admin.html" class="nav-item" id="nav-services">
                        <i>ğŸ“©</i> Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰ ÙˆØ§Ù„Ø·Ù„Ø¨Ø§Øª
                    </a>
                </div>
            </div>

            <!-- Group 4: System -->
            <div class="nav-group" id="group-system">
                <div class="nav-group-header" onclick="toggleSidebarGroup('group-system')">
                    <span>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</span>
                    <i class="arrow-icon">â–¶</i>
                </div>
                <div class="nav-group-content" style="display:none;">
                    <a href="admin.html" class="nav-item" id="nav-settings">
                        <i>âš™ï¸</i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
                    </a>
                    <a href="admin.html" class="nav-item"><i>ğŸ–¼ï¸</i> Ø§Ù„ÙˆØ³Ø§Ø¦Ø·</a>
                    <a href="admin.html" class="nav-item"><i>ï¿½</i> Ø§Ù„ØµÙØ­Ø§Øª</a>
                    <a href="admin.html" class="nav-item"><i>ğŸ’¬</i> Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª</a>
                    <a href="admin.html" class="nav-item"><i>ğŸ¨</i> Ø§Ù„Ù…Ø¸Ù‡Ø±</a>
                    <a href="admin.html" class="nav-item"><i>ğŸ§©</i> Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª</a>
                    <a href="admin.html" class="nav-item"><i>ï¿½ï¸</i> Ø§Ù„Ø£Ø¯ÙˆØ§Øª</a>
                    <a href="admin.html" class="nav-item"><i>âœ‰ï¸</i> Ø§Ù„Ø¨Ø±ÙŠØ¯</a>
                </div>
            </div>

            <div style="border-top: 1px solid rgba(255,255,255,0.1); margin: 15px 20px;"></div>
            
            <a href="board.html" target="_blank" class="nav-item" style="margin: 0 10px;">
                <i>ğŸ”—</i> Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ù…ÙˆÙ‚Ø¹
            </a>
        </nav>
        <div style="padding: 20px;">
            <button id="logout" class="btn btn-danger" style="width: 100%; justify-content: center;" onclick="location.href='index.html'">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
        </div>
        <div class="sidebar-footer" style="padding: 10px 20px; text-align: center; font-size: 0.7rem; color: #64748b; border-top: 1px solid #eee;">
            <div style="margin-bottom: 5px;">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø¯Ù‰ Ø´Ø±ÙƒØ© Ø§Ù„Ø¹Ù„ÙŠØ§Ù† Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Â© 2025</div>
            <div style="direction: ltr;">Developed by Bandar A. Abdulwahab</div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="admin-main">
        <header class="admin-header">
            <button id="sidebar-toggle" class="btn btn-glass" style="margin-inline-end: 15px; display: none;">â˜°</button>
            <div class="header-title">Ø´Ø¨ÙƒØ© Ø§Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</div>
            <div class="header-actions">
                <div class="status-pill">
                    <span class="status-dot" style="background: #10b981;"></span>
                    <span class="status-text">Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„</span>
                </div>
                
                <div class="lang-toggle">
                    <button class="btn-icon-text active">Ø¹Ø±Ø¨ÙŠ</button>
                    <span class="divider">|</span>
                    <button class="btn-icon-text" onclick="alert('English coming soon')">En</button>
                </div>
            </div>
        </header>

        <div class="admin-content-wrapper">
            
            <!-- New Openings Section -->
            <h2 class="section-title">Ø§Ù„Ø§ÙØªØªØ§Ø­Ø§Øª ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h2>
            
            <div class="openings-grid">
                <!-- Najran Region -->
                <div class="opening-card">
                    <div class="opening-content">
                        <span class="opening-status status-opening-soon">Ù‚Ø±ÙŠØ¨Ø§Ù‹</span>
                        <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                            <div class="brand-logo-circle"><img src="bk-logo.png" class="brand-logo-img" alt="BK"></div>
                            <span style="color:var(--text-muted);">Burger King</span>
                        </div>
                        <div class="opening-location">Ù…Ù†Ø·Ù‚Ø© Ù†Ø¬Ø±Ø§Ù†</div>
                        <div style="color:var(--text-muted); font-size:0.9rem;">
                            ğŸ“… Ø§Ù„Ø§ÙØªØªØ§Ø­ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: 01-01-2026
                        </div>
                    </div>
                </div>

                <!-- Tabuk Airport -->
                <div class="opening-card">
                    <div class="opening-content">
                        <span class="opening-status status-opening-soon">Ù‚Ø±ÙŠØ¨Ø§Ù‹</span>
                        <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                            <div class="brand-logo-circle"><img src="bk-logo.png" class="brand-logo-img" alt="BK"></div>
                            <span style="color:var(--text-muted);">Burger King</span>
                        </div>
                        <div class="opening-location">Ù…Ø·Ø§Ø± ØªØ¨ÙˆÙƒ</div>
                        <div style="color:var(--text-muted); font-size:0.9rem;">
                            ğŸ“… Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: Ù„Ø§Ø­Ù‚Ø§Ù‹
                        </div>
                    </div>
                </div>

                <!-- Taif Airport -->
                <div class="opening-card">
                    <div class="opening-content">
                        <span class="opening-status status-opening-soon">Ù‚Ø±ÙŠØ¨Ø§Ù‹</span>
                        <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                            <div class="brand-logo-circle"><img src="bk-logo.png" class="brand-logo-img" alt="BK"></div>
                            <span style="color:var(--text-muted);">Burger King</span>
                        </div>
                        <div class="opening-location">Ù…Ø·Ø§Ø± Ø§Ù„Ø·Ø§ÙŠÙ</div>
                        <div style="color:var(--text-muted); font-size:0.9rem;">
                            ğŸ“… Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: Ù„Ø§Ø­Ù‚Ø§Ù‹
                        </div>
                    </div>
                </div>
            </div>

            <!-- AUTO-GENERATED BRANCHES -->
            <h2 class="section-title" style="margin-top: 50px;">Ø´Ø¨ÙƒØ© Ø§Ù„ÙØ±ÙˆØ¹ Ø§Ù„Ù†Ø´Ø·Ø©</h2>
            <div id="dynamic-branches" class="openings-grid">
                <!-- Loaded from admin_branches -->
            </div>

        </div>
    </main>

    <script>
        // Sidebar Group Toggle
        function toggleSidebarGroup(groupId) {
            const group = document.getElementById(groupId);
            if(!group) return;
            const content = group.querySelector('.nav-group-content');
            const arrow = group.querySelector('.arrow-icon');
            const isActive = group.classList.contains('active');
            if(isActive) {
                group.classList.remove('active');
                content.style.display = 'none';
                if(arrow) arrow.textContent = 'â–¶';
            } else {
                group.classList.add('active');
                content.style.display = 'block';
                if(arrow) arrow.textContent = 'â–¼';
            }
        }

        // Sidebar Toggle Logic
        const toggleBtn = document.getElementById('sidebar-toggle');
        const sidebar = document.querySelector('.admin-sidebar');
        if(toggleBtn && sidebar) {
            toggleBtn.style.display = 'block'; // Ensure visible on mobile if css hides it
            toggleBtn.onclick = () => {
                sidebar.classList.toggle('active');
            };
        }

        // Load Dynamic Branches
        document.addEventListener('DOMContentLoaded', () => {
            const data = JSON.parse(localStorage.getItem('admin_branches_data') || '[]');
            const container = document.getElementById('dynamic-branches');
            
            if (data.length > 0 && container) {
                data.forEach(item => {
                    const name = item.name || item;
                    const type = item.type || 'basic';
                    const brand = item.brand || 'Olayan';
                    const logo = item.logo || '';
                    
                    const div = document.createElement('div');
                    div.className = 'opening-card';
                    div.innerHTML = `
                        <div class="opening-content">
                            <span class="opening-status ${type==='opening' ? 'status-opening-soon' : 'status-now-open'}">${type==='opening'?'Ù‚Ø±ÙŠØ¨Ø§Ù‹':'Ù…ÙØªÙˆØ­'}</span>
                            <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                                <div class="brand-logo-circle">${logo ? `<img src="${logo}" class="brand-logo-img">` : 'ğŸ“Œ'}</div>
                                <span style="color:var(--text-muted);">${brand}</span>
                            </div>
                            <div class="opening-location">${name}</div>
                            <div style="color:var(--text-muted); font-size:0.9rem;">
                                âœ… ÙŠØ¹Ù…Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹
                            </div>
                        </div>
                    `;
                    container.appendChild(div);
                });
            } else if (container) {
                container.innerHTML = '<p style="color:#aaa; grid-column: 1/-1; padding: 20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙØ±ÙˆØ¹ Ø­Ø§Ù„ÙŠØ§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ….</p>';
            }
        });
    </script>
</body>
</html>
                    const type = item.type || 'basic';
                    const brand = item.brand || 'Olayan';
                    const logo = item.logo || '';
                    
                    const div = document.createElement('div');
                    div.className = 'opening-card';
                    div.innerHTML = `
                        <div class="opening-content">
                            <span class="opening-status ${type==='opening' ? 'status-opening-soon' : 'status-now-open'}">${type==='opening'?'Ù‚Ø±ÙŠØ¨Ø§Ù‹':'Ù…ÙØªÙˆØ­'}</span>
                            <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                                <div class="brand-logo-circle">${logo ? `<img src="${logo}" class="brand-logo-img">` : 'ğŸ“Œ'}</div>
                                <span style="color:var(--text-muted);">${brand}</span>
                            </div>
                            <div class="opening-location">${name}</div>
                            <div style="color:var(--text-muted); font-size:0.9rem;">
                                âœ… ÙŠØ¹Ù…Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹
                            </div>
                        </div>
                    `;
                    container.appendChild(div);
                });
            } else if (container) {
                container.innerHTML = '<p style="color:#aaa; grid-column: 1/-1; padding: 20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙØ±ÙˆØ¹ Ø­Ø§Ù„ÙŠØ§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ….</p>';
            }
        });
    </script>
</body>
</html>
